# ------ Set Options for Projects --------------- #
MESSAGE( STATUS "Set Options for Project")

## Set CXX Compiler Version
SET( CMAKE_CXX_STANDARD 17 )

SET( DEMO_NAME "Demofile" )
PROJECT( ${DEMO_NAME} )

MESSAGE( STATUS "Setting Done")
# ----------------------------------------------- #



# ------ Set Files ------------------------------ #
MESSAGE( STATUS "Set Source File")

## Source Files
LIST( APPEND SRCS
    ## Demo file
    ${DEMOFILE_DIR}/main.cpp
	)

MESSAGE( STATUS "Setting Done ")
# ----------------------------------------------- #



# ------ Set Options for Target Files ----------- #
MESSAGE( STATUS "Set Options for Target Files")

## Include Header Directories for Target Files
IF ( WIN32 )
    MESSAGE( STATUS "Windows Platform for demofile")
    SET( CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS 1 )
    ADD_EXECUTABLE( ${DEMO_NAME} WIN32 ${SRCS} )
ELSE ()
    MESSAGE( STATUS "Other Platform for demofile")
    ADD_EXECUTABLE( ${DEMO_NAME} ${SRCS} )
ENDIF()

TARGET_INCLUDE_DIRECTORIES(${DEMO_NAME} PRIVATE ${INCLUDE_DIR})
TARGET_LINK_DIRECTORIES( ${DEMO_NAME} PRIVATE ${LIB_DIR} )
TARGET_LINK_LIBRARIES( ${DEMO_NAME} PRIVATE LogProject )

ADD_DEPENDENCIES( ${DEMO_NAME} ${PROJECT_NAME} )
# Copy the LogProject.dll file to the output directory
ADD_CUSTOM_COMMAND(TARGET ${DEMO_NAME} POST_BUILD
    COMMAND ${CMAKE_COMMAND} -E copy_if_different
        ${LIB_DIR}/LogProject.dll $<TARGET_FILE_DIR:${DEMO_NAME}>
)

SET( EXE_DIR ${CMAKE_SOURCE_DIR}/build )

IF ( CMAKE_BUILD_TYPE MATCHES Debug )
    SET_TARGET_PROPERTIES( ${DEMO_NAME} PROPERTIES
    RUNTIME_OUTPUT_DIRECTORY_DEBUG ${EXE_DIR}/Debug
    )
    MESSAGE( STATUS "Build exe file on Debug mode" )
ELSEIF ( CMAKE_BUILD_TYPE MATCHES Release )
    SET_TARGET_PROPERTIES( ${DEMO_NAME} PROPERTIES
    RUNTIME_OUTPUT_DIRECTORY_RELEASE ${EXE_DIR}/Release
    )
    MESSAGE( STATUS "Build exe file on Release mode" )
ELSE()
    SET_TARGET_PROPERTIES( ${DEMO_NAME} PROPERTIES
    RUNTIME_OUTPUT_DIRECTORY ${EXE_DIR}
    )
    MESSAGE( STATUS "Build exe file on Other mode" )
ENDIF()

MESSAGE( STATUS "Setting Done ")
# ----------------------------------------------- #